#!/bin/bash

cd "$(dirname "$0")"/..

base64 -d <<<"
ZGlmZiAtLWdpdCBhL2FwcGxpL2VkdWNhdGlvbi9kaXN0cmlidXRlZF9hbGdvcml0aG0vY2xvY2tf
Y29udmVyZ2VuY2UuYyBiL2FwcGxpL2VkdWNhdGlvbi9kaXN0cmlidXRlZF9hbGdvcml0aG0vY2xv
Y2tfY29udmVyZ2VuY2UuYwppbmRleCBhMjU2MzI2Li40N2RjOWFkIDEwMDY0NAotLS0gYS9hcHBs
aS9lZHVjYXRpb24vZGlzdHJpYnV0ZWRfYWxnb3JpdGhtL2Nsb2NrX2NvbnZlcmdlbmNlLmMKKysr
IGIvYXBwbGkvZWR1Y2F0aW9uL2Rpc3RyaWJ1dGVkX2FsZ29yaXRobS9jbG9ja19jb252ZXJnZW5j
ZS5jCkBAIC0zOCw3ICszOCw3IEBAIGRvdWJsZSBjbG9ja19jb252ZXJnZW5jZV92aXJ0dWFsX3Rp
bWUoKQogICAgIGRvdWJsZSB0X3N5cyA9IGNsb2NrX2NvbnZlcmdlbmNlX3N5c3RlbV90aW1lKCk7
CiAKICAgICAvLyBVc2UgY2ZnLmtfdXAsIGNmZy50X3ZpcnRfdXAgYW5kIGNmZy50X3N5c191cCBo
ZXJlCi0gICAgZG91YmxlIHRfdmlydCA9IHRfc3lzOworICAgIGRvdWJsZSB0X3ZpcnQgPSBjZmcu
dF92aXJ0X3VwICsgIGNmZy5rX3VwICogKHRfc3lzIC0gY2ZnLnRfc3lzX3VwKSA7CiAKICAgICBy
ZXR1cm4gdF92aXJ0OwogfQpAQCAtNDgsOCArNDgsMTAgQEAgc3RhdGljIHZvaWQgY2xvY2tfY29u
dmVyZ2VuY2VfdXBkYXRlX3RpbWUoZG91YmxlIG5laWdoX3ZpcnR1YWxfdGltZSkKIHsKICAgICBk
b3VibGUgdF92aXJ0ID0gY2xvY2tfY29udmVyZ2VuY2VfdmlydHVhbF90aW1lKCk7CiAgICAgZG91
YmxlIHRfc3lzID0gY2xvY2tfY29udmVyZ2VuY2Vfc3lzdGVtX3RpbWUoKTsKLSAgICBkb3VibGUg
YWxwaGEgPSAwOyAvLyBDb25maWd1cmUgbWUKLSAgICBkb3VibGUgcSA9IDA7ICAgICAvLyBjb25m
aWd1cmUgbWUKKyAgICBkb3VibGUgYWxwaGEgPSAwLjAzOyAvLyBDb25maWd1cmUgbWUKKyAgICBk
b3VibGUgcSA9IDAuNTsgICAgICAvLyBjb25maWd1cmUgbWUKKyAgICAvL2RvdWJsZSBhbHBoYSA9
IFRJTUVfU0NBTEVfUkFORE9NICogTkJfTk9ERVMgKiAoMi1xKSAvIDMwMC47CisKIAogICAgIC8q
IEhpZGUgY29tcGlsZSAnZXJyb3I6IHVudXNlZCB2YXJpYWJsZScgKi8KICAgICAodm9pZCkgbmVp
Z2hfdmlydHVhbF90aW1lOwpAQCAtNTgsMTIgKzYwLDEwIEBAIHN0YXRpYyB2b2lkIGNsb2NrX2Nv
bnZlcmdlbmNlX3VwZGF0ZV90aW1lKGRvdWJsZSBuZWlnaF92aXJ0dWFsX3RpbWUpCiAgICAgKHZv
aWQpIGFscGhhOwogICAgICh2b2lkKSBxOwogCi0gICAgLyogLy8gVXBkYXRlIHZhbHVlcwotICAg
ICAqICAgY2ZnLnRfc3lzX3VwID0KLSAgICAgKiAgIGNmZy50X3ZpcnRfdXAgPQotICAgICAqICAg
Y2ZnLmtfdXAgPQotICAgICAqLwotCisgICAgIC8vIFVwZGF0ZSB2YWx1ZXMKKyAgICAgY2ZnLnRf
c3lzX3VwID0gdF9zeXM7CisgICAgIGNmZy50X3ZpcnRfdXAgPSB0X3ZpcnQgKyBxICogKG5laWdo
X3ZpcnR1YWxfdGltZSAtIHRfdmlydCk7CisgICAgIGNmZy5rX3VwICs9ICBhbHBoYSAqIHEgKiAo
bmVpZ2hfdmlydHVhbF90aW1lIC0gdF92aXJ0KTsKIH0KIAogCmRpZmYgLS1naXQgYS9hcHBsaS9l
ZHVjYXRpb24vZGlzdHJpYnV0ZWRfYWxnb3JpdGhtL2NvbXB1dGluZy5jIGIvYXBwbGkvZWR1Y2F0
aW9uL2Rpc3RyaWJ1dGVkX2FsZ29yaXRobS9jb21wdXRpbmcuYwppbmRleCA2MzQ2ZjEyLi44Mjkx
ZTQyIDEwMDY0NAotLS0gYS9hcHBsaS9lZHVjYXRpb24vZGlzdHJpYnV0ZWRfYWxnb3JpdGhtL2Nv
bXB1dGluZy5jCisrKyBiL2FwcGxpL2VkdWNhdGlvbi9kaXN0cmlidXRlZF9hbGdvcml0aG0vY29t
cHV0aW5nLmMKQEAgLTMyLDcgKzMyLDcgQEAgZG91YmxlIGNvbXB1dGVfdmFsdWVfZnJvbV9uZWln
aGJvdXJzKGRvdWJsZSBteV92YWx1ZSwgdWludDMyX3QgbXlfZGVncmVlLAogICAgICAgICAvLyBu
ZWlnaGJvdXJfZGVncmVlIGFuZCBuZWlnaGJvdXJfdmFsdWUKICAgICAgICAgLy8gbmV3X3ZhbHVl
ICs9IC4uLjsKICAgICAgICAgKHZvaWQpbmVpZ2hib3VyX2RlZ3JlZTsKLSAgICAgICAgbmV3X3Zh
bHVlID0gZm1heChuZXdfdmFsdWUsIG5laWdoYm91cl92YWx1ZSk7CisgICAgICAgIG5ld192YWx1
ZSA9IG5ld192YWx1ZSArICAobmVpZ2hib3VyX3ZhbHVlLW15X3ZhbHVlKS8oMStmbWF4KG5laWdo
Ym91cl9kZWdyZWUsbXlfZGVncmVlKSk7CiAgICAgfQogCiAgICAgcmV0dXJuIG5ld192YWx1ZTsK
QEAgLTQxLDcgKzQxLDcgQEAgZG91YmxlIGNvbXB1dGVfdmFsdWVfZnJvbV9uZWlnaGJvdXJzKGRv
dWJsZSBteV92YWx1ZSwgdWludDMyX3QgbXlfZGVncmVlLAogLy8gd2hlbiBydW5uaW5nIGluIGdv
c3NpcCBtb2RlCiBkb3VibGUgY29tcHV0ZV92YWx1ZV9mcm9tX2dvc3NpcChkb3VibGUgbXlfdmFs
dWUsIGRvdWJsZSBuZWlnaF92YWx1ZSkKIHsKLSAgICByZXR1cm4gZm1heChteV92YWx1ZSwgbmVp
Z2hfdmFsdWUpOworICAgIHJldHVybiAobXlfdmFsdWUgKyBuZWlnaF92YWx1ZSkvMi47CiB9CiAK
IC8vIFdoZW4gbmVlZGVkIHRvIGNhbGN1bGF0ZSBvbmUgaW50IHJlc3VsdCBpbiBnb3NzaXAgbW9k
ZQpkaWZmIC0tZ2l0IGEvYXBwbGkvZWR1Y2F0aW9uL2Rpc3RyaWJ1dGVkX2FsZ29yaXRobS9jb25m
aWcuaCBiL2FwcGxpL2VkdWNhdGlvbi9kaXN0cmlidXRlZF9hbGdvcml0aG0vY29uZmlnLmgKaW5k
ZXggNzdhNDlmNC4uMGVmY2VkZSAxMDA2NDQKLS0tIGEvYXBwbGkvZWR1Y2F0aW9uL2Rpc3RyaWJ1
dGVkX2FsZ29yaXRobS9jb25maWcuaAorKysgYi9hcHBsaS9lZHVjYXRpb24vZGlzdHJpYnV0ZWRf
YWxnb3JpdGhtL2NvbmZpZy5oCkBAIC03LDcgKzcsNyBAQAogCiAKIC8vIGNob29zZSBjaGFubmVs
IGluIFsxMS0yNl0KLSNkZWZpbmUgQ0hBTk5FTCAxMgorI2RlZmluZSBDSEFOTkVMIDIwCiAKICNk
ZWZpbmUgTlVNX1ZBTFVFUyAgICAgICAgICAgMQogCkBAIC0xNSw3ICsxNSw3IEBACiAKICNkZWZp
bmUgVElNRV9TQ0FMRSAgICAgICAgICAgMS4wCiAjZGVmaW5lIFRJTUVfU0NBTEVfUkFORE9NICAg
IDAuMgotI2RlZmluZSBUSU1FX09GRlNFVF9SQU5ET00gICAwLjAKKyNkZWZpbmUgVElNRV9PRkZT
RVRfUkFORE9NICAgNjAKIAogI2RlZmluZSBNQUNfUEtUX0xFTiAoUEhZX01BWF9UWF9MRU5HVEgg
LSA0KQogI2RlZmluZSBNQVhfTlVNX05FSUdIQk9VUlMgICgoTUFDX1BLVF9MRU4gLTIpLyBzaXpl
b2YodWludDE2X3QpKQo=
" | patch -p4
